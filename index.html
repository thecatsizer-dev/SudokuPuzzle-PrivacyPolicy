<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - Sudoku Puzzle</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.7;
            color: #333;
            background: #f5f7fa;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .metadata {
            background: #f8f9fa;
            padding: 25px 40px;
            border-bottom: 2px solid #e9ecef;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            font-size: 0.95em;
        }
        
        .metadata-item {
            color: #666;
        }
        
        .metadata-item strong {
            color: #333;
            display: block;
            margin-bottom: 5px;
        }
        
        main {
            padding: 50px 40px;
        }
        
        h2 {
            color: #667eea;
            font-size: 1.9em;
            margin: 50px 0 25px 0;
            border-bottom: 3px solid #667eea;
            padding-bottom: 12px;
        }
        
        h2:first-child {
            margin-top: 0;
        }
        
        h3 {
            color: #764ba2;
            font-size: 1.3em;
            margin: 30px 0 15px 0;
        }
        
        h4 {
            color: #555;
            font-size: 1.05em;
            margin: 20px 0 10px 0;
        }
        
        p {
            margin: 15px 0;
            line-height: 1.8;
        }
        
        ul {
            margin: 20px 0 20px 30px;
        }
        
        li {
            margin: 10px 0;
        }
        
        ol {
            margin: 20px 0 20px 30px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        table td {
            border: 1px solid #e9ecef;
            padding: 12px 15px;
        }
        
        table tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        table tr:hover {
            background: #f0f2ff;
        }
        
        .box-highlight {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 25px 0;
            border-radius: 6px;
        }
        
        .box-success {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 20px;
            margin: 25px 0;
            border-radius: 6px;
        }
        
        .box-warning {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
            padding: 20px;
            margin: 25px 0;
            border-radius: 6px;
        }
        
        .contact-box {
            background: linear-gradient(135deg, rgba(102,126,234,0.08) 0%, rgba(118,75,162,0.08) 100%);
            border: 2px solid #667eea;
            padding: 25px;
            border-radius: 8px;
            margin: 25px 0;
        }
        
        .contact-box p {
            margin: 10px 0;
        }
        
        .contact-box strong {
            color: #667eea;
        }
        
        a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        footer {
            background: #f8f9fa;
            padding: 40px;
            border-top: 2px solid #e9ecef;
            text-align: center;
            color: #666;
            font-size: 0.95em;
        }
        
        .emoji {
            margin-right: 8px;
        }
        
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        @media (max-width: 768px) {
            header h1 {
                font-size: 1.8em;
            }
            
            header, main, footer, .metadata {
                padding: 25px;
            }
            
            table {
                font-size: 0.9em;
            }
            
            table th, table td {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîí Privacy Policy</h1>
            <p>Sudoku Puzzle - TheCatsizerLab</p>
        </header>
        
        <div class="metadata">
            <div class="metadata-item">
                <strong>Effective Date:</strong>
                December 19, 2025
            </div>
           <div class="metadata-item">
    <strong>Last Updated:</strong>
    January 10, 2026
</div>
            <div class="metadata-item">
                <strong>Email:</strong>
                contact.thecatsizerlab@gmail.com
            </div>
            <div class="metadata-item">
                <strong>Location:</strong>
                Zigliara, South Corsica, France
            </div>
        </div>
        
        <main>
            <h2><span class="emoji">üìã</span>1. Introduction</h2>
            <p>Sudoku Puzzle ("the Application") is developed by TheCatsizerLab and available on Google Play Store. We respect your privacy and are committed to processing your personal data transparently and securely in accordance with GDPR and applicable data protection laws worldwide.</p>
            <p>This privacy policy explains how we collect, use, share, and protect your personal data when you use our Application.</p>
            
            <h2><span class="emoji">üë§</span>2. Data Controller</h2>
            <div class="contact-box">
                <p><strong> TheCatsizerLab </strong></p>
                <p>üìç Zigliara, South Corsica, France</p>
                <p>üìß Email: <a href="mailto:contact.thecatsizerlab@gmail.com">contact.thecatsizerlab@gmail.com</a></p>
                <p>For any data-related inquiries, please contact us at the address above.</p>
            </div>
            
            <h3>2.2 App Package Information</h3>
            <ul>
                <li><strong>App Package Name:</strong> com.catsizerlab.sudoku</li>
                <li><strong>Google Play Store Link:</strong> <a href="https://play.google.com/store/apps/details?id=com.catsizerlab.sudoku" target="_blank">View on Google Play</a></li>
                <li><strong>Minimum Android Version:</strong> Android 7.0 (API 24)</li>
                <li><strong>Target Android Version:</strong> Android 14/15 (API 34/35)</li>
            </ul>
            
            <h2><span class="emoji">üìä</span>3. Data We Collect</h2>
            
            <h3>3.1 Data Collected Directly from You</h3>
            
            <h4><span class="emoji">üéÆ</span>Google Play Games Services (GPGS)</h4>
            <ul>
                <li>Unique player identifier (Player ID)</li>
                <li>Display name</li>
                <li>Profile picture (optional)</li>
                <li>Game progression data synchronized via Google Cloud</li>
            </ul>
            <p><strong>Legal Basis:</strong> Consent (explicit upon connection) | <strong>Purpose:</strong> Authentication, cloud sync, leaderboards, achievements</p>
            
            <h4><span class="emoji">üéØ</span>Game Data</h4>
            <ul>
                <li>Game scores (solo and multiplayer)</li>
                <li>Match history (duration, error count, game mode)</li>
                <li>Progression through levels</li>
                <li>Selected difficulty</li>
                <li>Elapsed time in games</li>
                <li>Number of correct placements</li>
                <li>Combo statistics</li>
            </ul>
            <p><strong>Legal Basis:</strong> Service contract | <strong>Purpose:</strong> Save progression, populate leaderboards, improve gameplay</p>
            
           <h4><span class="emoji">üë•</span>Multiplayer Data</h4>
<ul>
    <li>Opponent's display name</li>
    <li>Real-time game progression</li>
    <li>Match statistics (correct moves, errors, combo)</li>
    <li>Match results</li>
    <li>Energy and power-ups used</li>
    <li>Friends list and friend codes</li>
    <li>Pending friend invitations</li>
</ul>
<p><strong>Legal Basis:</strong> Service contract | <strong>Purpose:</strong> Real-time multiplayer sync, leaderboards, game balancing</p>

<h5><span class="emoji">üíæ</span>Match Details Backup (Local)</h5>
<ul>
    <li>Last 5 matches stored in device SharedPreferences</li>
    <li>Includes: opponent name, scores, victory/defeat, reason, timestamp</li>
</ul>
<p><strong>Purpose:</strong> Display recent match history offline</p>
<p><strong>Retention:</strong> Until manual app data clear</p>
<p><strong>Storage:</strong> SharedPreferences (JSON format)</p>

<h5><span class="emoji">‚è±Ô∏è</span>Deferred Game Results (Backup System)</h5>

<p><strong>Purpose:</strong> Prevent lost match results due to disconnects during game_over event</p>

<p><strong>Storage:</strong></p>
<ul>
    <li>PostgreSQL database (Neon) - table: finished_games</li>
    <li>Columns stored:
        <ul>
            <li>room_id (UNIQUE) - Match identifier</li>
            <li>winner_id, winner_name, winner_score</li>
            <li>loser_id, loser_name, loser_score</li>
            <li>reason (completed, abandoned, timeout, too_many_errors)</li>
            <li>winner_delivered (BOOLEAN) - Has winner retrieved result?</li>
            <li>loser_delivered (BOOLEAN) - Has loser retrieved result?</li>
            <li>created_at (TIMESTAMP)</li>
        </ul>
    </li>
</ul>

<p><strong>Dual-Flag Delivery System:</strong></p>
<ol>
    <li>When a player is offline at match end, result is stored with their delivery flag = FALSE</li>
    <li>When player reconnects and retrieves result via GET /api/game_over/check/{playerId}, their flag becomes TRUE</li>
    <li>Row is ONLY deleted when BOTH winner_delivered AND loser_delivered are TRUE</li>
    <li>This ensures both players receive their match result exactly once</li>
</ol>

<p><strong>API Endpoints:</strong></p>
<ul>
    <li>POST /api/game_over/batch - Store results for multiple disconnected players (atomic batch insert)</li>
    <li>GET /api/game_over/check/{playerId} - Atomic retrieval sequence:
        <ul>
            <li>SELECT FOR UPDATE SKIP LOCKED (prevents race conditions)</li>
            <li>UPDATE delivery flag for requesting player (winner_delivered or loser_delivered)</li>
            <li>DELETE row if both flags are TRUE</li>
            <li>Returns match result in single transaction</li>
        </ul>
    </li>
</ul>

<p><strong>Retention:</strong></p>
<ul>
    <li>Until both players retrieve result (automatic deletion after dual-confirmation)</li>
    <li>Auto-cleanup: Results older than 1 hour are deleted (even if not retrieved)</li>
    <li>Cleanup runs every hour via scheduled job</li>
</ul>

<p><strong>Privacy:</strong></p>
<ul>
    <li>Stored in encrypted PostgreSQL (Neon) with SSL/TLS connections</li>
    <li>No persistent retention after both players confirm delivery</li>
    <li>Maximum retention: 1 hour (hard limit via cleanup job)</li>
</ul>

<p><strong>Security:</strong></p>
<ul>
    <li>Atomic database operations prevent duplicate delivery</li>
    <li>SKIP LOCKED prevents concurrent retrieval conflicts</li>
    <li>Transaction rollback on any error ensures data consistency</li>
</ul>
            
           <h4><span class="emoji">‚öôÔ∏è</span>Preference Data</h4>
<ul>
    <li>Selected visual theme</li>
    <li>Language preference</li>
    <li>Audio settings (sound enabled/disabled)</li>
    <li>Vibration preferences</li>
    <li>Premium theme purchase history</li>
</ul>
<p><strong>Storage:</strong> Device local storage (SharedPreferences)</p>
<p><strong>Legal Basis:</strong> Service contract | <strong>Purpose:</strong> Personalize user experience</p>
            
            <h4><span class="emoji">üîä</span>Audio Preferences</h4>
            <ul>
                <li>Sound enabled/disabled state</li>
                <li>Music volume level (0.0-1.0)</li>
                <li>Sound effects volume level (0.0-1.0)</li>
                <li>Last played music track</li>
            </ul>
            <p><strong>Storage:</strong> Device local storage (SharedPreferences)</p>
            <p><strong>Legal Basis:</strong> Service contract</p>
            <p><strong>Purpose:</strong> Remember your audio settings across sessions</p>
            
            <h4><span class="emoji">‚òÅÔ∏è</span>Cloud Game Save (GPGS)</h4>
            <ul>
                <li>Current grid state (9x9 array of numbers)</li>
                <li>Initial puzzle grid (unmodified)</li>
                <li>Solution grid (complete puzzle)</li>
                <li>Difficulty level (easy/medium/hard/expert)</li>
                <li>Elapsed time (in seconds)</li>
                <li>Error count</li>
                <li>Continues used (if game restarted after loss)</li>
                <li>Current score</li>
                <li>Cell notes (9x9 array of note arrays)</li>
                <li>Hints remaining</li>
            </ul>
            <p><strong>Storage:</strong> Google Play Games Saved Games</p>
            <p><strong>Legal Basis:</strong> Service contract (cloud sync)</p>
            <p><strong>Purpose:</strong> Resume game across devices</p>
            <p><strong>Retention:</strong> As long as GPGS account exists</p>
            <p><strong>Sync:</strong> Automatic when GPGS is connected</p>
            
            <div class="box-highlight">
                <strong>üîí Privacy:</strong> Cloud saves are encrypted by Google Play Games and only accessible by your account.
            </div>
            
            <h4><span class="emoji">üèÖ</span>Achievement Progress Tracking (Local)</h4>
            <ul>
                <li>Win counters (per difficulty + total)</li>
                <li>Flawless games count (0 errors)</li>
                <li>Hints usage statistics</li>
                <li>Notes usage frequency</li>
                <li>Correct placement accuracy</li>
                <li>Win streak counters (current + best)</li>
                <li>Error-free grids completed</li>
                <li>Daily challenge participation streak</li>
                <li>Multiplayer victories</li>
            </ul>
            <p><strong>Storage:</strong> Device local storage (SharedPreferences)</p>
            <p><strong>Legal Basis:</strong> Service contract</p>
            <p><strong>Purpose:</strong> Track achievement unlock progress</p>
            <p><strong>Sync:</strong> Synced with Google Play Games when achievements are unlocked</p>
            <p><strong>Retention:</strong> As long as app is installed</p>
            
           <h4><span class="emoji">üìä</span>Player Profile Statistics</h4>
<ul>
    <li>Total games played (solo + multiplayer)</li>
    <li>Games won/lost (per game mode)</li>
    <li>Win rate percentage (automatically calculated)</li>
    <li>Last game timestamp</li>
    <li>Profile creation date</li>
</ul>
<p><strong>Legal Basis:</strong> Service contract</p>
<p><strong>Purpose:</strong> Display player performance statistics</p>
<p><strong>Visibility:</strong> Private (only visible to you)</p>
<p><strong>Retention:</strong> As long as GPGS account exists + 90 days after deletion</p>

<h5><span class="emoji">üíæ</span>Profile Statistics Storage (PostgreSQL)</h5>

<p><strong>Storage Structure:</strong></p>
<ul>
    <li><strong>Solo Statistics Table</strong> (player_profile_solo):
        <ul>
            <li>games_played (INTEGER)</li>
            <li>games_won (INTEGER)</li>
            <li>games_lost (INTEGER)</li>
            <li>last_game_at (TIMESTAMP - last solo match completed)</li>
            <li>created_at / updated_at (TIMESTAMP)</li>
        </ul>
    </li>
    <li><strong>Multiplayer Statistics Table</strong> (player_profile_multi):
        <ul>
            <li>games_played (INTEGER)</li>
            <li>games_won (INTEGER)</li>
            <li>games_lost (INTEGER)</li>
            <li>last_game_at (TIMESTAMP - last multiplayer match completed)</li>
            <li>created_at / updated_at (TIMESTAMP)</li>
        </ul>
    </li>
</ul>

<p><strong>Calculation:</strong></p>
<ul>
    <li>Win rate: (games_won / games_played) √ó 100</li>
    <li>Calculated server-side on each API request</li>
</ul>

<p><strong>API Endpoints:</strong></p>
<ul>
    <li>GET /api/profile/stats?gameMode=solo - Retrieve solo statistics</li>
    <li>GET /api/profile/stats?gameMode=multi - Retrieve multiplayer statistics</li>
    <li>POST /api/profile/update - Updates statistics after each match completion</li>
</ul>

<p><strong>Storage Location:</strong> PostgreSQL (Neon) - encrypted at rest (AES-256)</p>
<p><strong>Retention:</strong> As long as GPGS account exists + 90 days after deletion</p>
<p><strong>Privacy:</strong> Statistics are private and only visible to the account owner</p>

<h5><span class="emoji">üìä</span>Profile Statistics Cache (In-Memory)</h5>
<ul>
    <li>Solo/Multi stats cached in RAM (not persistent storage)</li>
    <li>Auto-refresh from server on app resume</li>
    <li>Cached data: gamesPlayed, gamesWon, gamesLost, winrate, lastGameAt, updatedAt</li>
</ul>
<p><strong>Purpose:</strong> Reduce API calls, improve performance</p>
<p><strong>Storage:</strong> Volatile memory (lost on app close)</p>
<p><strong>Retention:</strong> Session only (cleared when app is closed)</p>
            
            <h3>3.2 Data Collected Automatically</h3>
            
            <h4><span class="emoji">üñ•Ô∏è</span>Technical Data</h4>
            <ul>
                <li>Device type and model</li>
                <li>Android OS version</li>
                <li>Unique identifiers (Android Advertising ID)</li>
                <li>IP address</li>
                <li>Region and timezone</li>
                <li>Storage capacity and remaining storage</li>
                <li>Device memory information</li>
            </ul>
            <p><strong>Legal Basis:</strong> Legitimate interest (technical maintenance, security, analytics) | <strong>Purpose:</strong> Performance optimization, fraud prevention, debugging</p>
            
            <h4><span class="emoji">üì±</span>Connection Data</h4>
            <ul>
                <li>Session timestamps</li>
                <li>Session duration</li>
                <li>Game events (matches started, completed, abandoned)</li>
                <li>Ad interaction data (impressions, clicks, rewarded ad views)</li>
                <li>Connection type (WiFi vs cellular)</li>
                <li>App launch frequency</li>
            </ul>
            <p><strong>Legal Basis:</strong> Legitimate interest (analytics - collecte obligatoire) | <strong>Purpose:</strong> Service improvement, usage analysis, performance monitoring</p>
            
           <h4><span class="emoji">‚ö†Ô∏è</span>Crash and Error Data (Firebase Crashlytics)</h4>
<p><strong>Automatic Collection:</strong> Firebase Crashlytics automatically captures and sends crash reports when the app crashes.</p>
<ul>
    <li><strong>Crash reports:</strong> Automatic fatal error reports with stack traces</li>
    <li><strong>Non-fatal errors:</strong> Logged exceptions (manually recorded by developers)</li>
    <li><strong>Stack traces:</strong> Full error trace for debugging</li>
    <li><strong>Application state:</strong> Memory usage, device orientation, free disk space at crash time</li>
    <li><strong>Device information:</strong> Model, OS version, manufacturer</li>
    <li><strong>Session data:</strong> App version, crash timestamp, time since app launch</li>
    <li><strong>Custom logs:</strong> Developer-added breadcrumbs for debugging context</li>
</ul>

<p><strong>Data NOT collected by Crashlytics:</strong></p>
<ul>
    <li>‚ùå User identifiers (Player ID, GPGS name) - NOT automatically linked</li>
    <li>‚ùå IP addresses</li>
    <li>‚ùå Personal data from game state (grid content, scores)</li>
</ul>

<p><strong>Storage & Retention:</strong></p>
<ul>
    <li><strong>Storage:</strong> Firebase servers (Google Cloud, USA)</li>
    <li><strong>Retention:</strong> 90 days (automatic deletion after)</li>
    <li><strong>Encryption:</strong> Data encrypted in transit (HTTPS/TLS 1.3) and at rest (AES-256)</li>
</ul>

<p><strong>Legal Basis:</strong> Legitimate interest (GDPR Article 6.1.f - technical maintenance, security, app stability)</p>
<p><strong>Purpose:</strong> Detect and fix crashes, improve app stability, prevent future errors</p>

<div class="box-success">
    <strong>üîí Privacy Protection:</strong> Crash reports are anonymized and contain only technical data. No personal information (scores, game data, Player ID) is sent unless explicitly logged by developers for debugging.
</div>

<div class="box-highlight">
    <strong>‚öôÔ∏è Opt-Out:</strong> Crashlytics cannot be disabled within the app as it's essential for technical maintenance. However, you can:
    <ul style="margin-top: 10px;">
        <li>Uninstall the app to stop all data collection</li>
        <li>Request crash data deletion via email (see Section 7.3)</li>
    </ul>
</div>
            
            <h4><span class="emoji">üîê</span>Android Permissions</h4>
            <p>The Application requests the following Android permissions:</p>
            <table>
                <thead>
                    <tr>
                        <th>Permission</th>
                        <th>Purpose</th>
                        <th>Required</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>INTERNET</code></td>
                        <td>Connect to leaderboard servers, daily challenges, multiplayer</td>
                        <td>‚úÖ Yes</td>
                    </tr>
                    <tr>
                        <td><code>ACCESS_NETWORK_STATE</code></td>
                        <td>Check network availability before server requests</td>
                        <td>‚úÖ Yes</td>
                    </tr>
                    <tr>
                        <td><code>VIBRATE</code></td>
                        <td>Haptic feedback on correct/incorrect moves (can be disabled in Settings)</td>
                        <td>‚úÖ Yes (declared in manifest)</td>
                    </tr>
                    <tr>
                        <td><code>BILLING</code></td>
                        <td>In-App Purchases (Google Play Billing)</td>
                        <td>‚úÖ Yes</td>
                    </tr>
                </tbody>
            </table>
            <p><strong>Note:</strong> All permissions are requested at runtime and can be revoked in Android Settings > Apps > Sudoku Puzzle > Permissions.</p>
            
            <h3>3.3 Payment Data</h3>
            
            <h4><span class="emoji">üí≥</span>In-App Purchase Transactions</h4>
            <ul>
                <li>Products purchased (premium lifetime, theme bundle, individual themes)</li>
                <li>Purchase tokens (Google Play verification data)</li>
                <li>Purchase amount and currency</li>
                <li>Transaction date and time</li>
                <li>Transaction status (completed, pending, failed, restored)</li>
                <li>Product IDs (premium_lifetime, theme_spring_premium, theme_tropical_premium, theme_midnight_premium, theme_rainy_premium, theme_desert_premium, theme_golden_premium, theme_cherry_premium, theme_sky_premium, theme_rice_premium, theme_bundle_premium)</li>
            </ul>
            <p><strong>Legal Basis:</strong> Service contract | <strong>Purpose:</strong> Purchase management, product attribution, fraud prevention</p>
            
            <div class="box-success">
                <strong>‚úÖ Important:</strong> Your payment information is never shared with Catsizer Lab. All payments are processed securely through Google Play Billing, which complies with PCI DSS standards. Purchase tokens are sent to our server exclusively for validation purposes.
            </div>
            
            <h4><span class="emoji">üîÑ</span>Purchase Restoration</h4>
            <ul>
                <li>Purchase restoration requests (timestamp)</li>
                <li>Server-side purchase validation (Google Play receipt verification)</li>
                <li>Backup purchase records (in case of Google Play sync failure)</li>
                <li>Restoration attempts (frequency, device changes)</li>
            </ul>
            <p><strong>Purpose:</strong> Ensure purchases are not lost on device change/reinstall</p>
            <p><strong>Security:</strong> Dual validation (Google Play + server-side)</p>
            
            <h3>3.4 Third-Party Data</h3>
            
            <h4><span class="emoji">üì¢</span>Google AdMob (Advertising)</h4>
            <p>Advertisements displayed in the Application are managed by Google through AdMob.</p>
            <p><strong>Data collected by Google:</strong></p>
            <ul>
                <li>Android Advertising ID</li>
                <li>Inferred interest categories</li>
                <li>Ad view history</li>
                <li>Ad clicks</li>
                <li>App usage patterns</li>
            </ul>
            <p><strong>Legal Basis:</strong> Consent (compliant with Google policy) | <strong>Purpose:</strong> Personalized ad delivery, app monetization</p>
            <p><strong>Manage Ad Preferences:</strong> Go to Settings > Google > Manage your Google Account > Data & Privacy > Ad Settings</p>
            <h4><span class="emoji">üî•</span>Firebase Services (Google)</h4>

<h5>Firebase Analytics</h5>
<ul>
    <li>Automatic screen view tracking</li>
    <li>Session duration and frequency</li>
    <li>Device type, OS version, app version</li>
    <li>Custom events logged by developers (game_start, game_end, purchase, etc.)</li>
</ul>
<p><strong>Provider:</strong> Google LLC</p>
<p><strong>Privacy Policy:</strong> <a href="https://firebase.google.com/support/privacy" target="_blank">firebase.google.com/support/privacy</a></p>

<h5>Firebase Crashlytics</h5>
<ul>
    <li>Crash reports (fatal errors only)</li>
    <li>Stack traces for debugging</li>
    <li>Device state at crash time (memory, storage, battery)</li>
    <li>NO personal data (Player ID, game scores) unless manually logged</li>
</ul>
<p><strong>Provider:</strong> Google LLC</p>
<p><strong>Privacy Policy:</strong> <a href="https://firebase.google.com/support/privacy/crashlytics" target="_blank">firebase.google.com/support/privacy/crashlytics</a></p>
<p><strong>Legal Basis:</strong> Legitimate interest (GDPR Article 6.1.f)</p>
<p><strong>Retention:</strong> 90 days (Crashlytics), 14 months (Analytics)</p>
            

<h4><span class="emoji">‚ö°</span>Power-Up Cooldown & Energy Management</h4>

<p><strong>Cooldown System:</strong></p>
<ul>
    <li>5 seconds minimum between power-up activations</li>
    <li>Last activation timestamp stored in RAM (player.lastPowerUpTime)</li>
    <li>Throttle protection: 100ms minimum between trigger_power events (spam prevention)</li>
</ul>

<p><strong>Energy Deduction:</strong></p>
<ul>
    <li>Energy cost: 1 point per power-up activation</li>
    <li>Deducted BEFORE power-up validation (prevents race conditions)</li>
    <li>Automatic refund if power-up fails execution</li>
</ul>

<p><strong>Refund Scenarios (Energy returned to player):</strong></p>
<ul>
    <li>Opponent disconnected at activation time</li>
    <li>No valid cells to erase (cell_eraser power-up on empty grid)</li>
    <li>Self-target on invalid grid state</li>
    <li>Invalid game state (match already finished)</li>
    <li>Power-up activation during cooldown period</li>
</ul>

<p><strong>Power-Up Targeting:</strong></p>
<ul>
    <li>80% chance: Targets opponent</li>
    <li>20% chance: Targets yourself (random server-side selection)</li>
    <li>Randomization performed server-side for fairness</li>
</ul>

<p><strong>Storage:</strong> RAM only (session-based, not persistent)</p>
<p><strong>Purpose:</strong> Prevent power-up spam, ensure fair energy consumption, maintain game balance</p>
<p><strong>Retention:</strong> Until match ends or player disconnects (volatile memory)</p>

<h4><span class="emoji">üé¨</span>Rewarded Video Ads</h4>
<ul>
    <li>Ad impression timestamps</li>
    <li>Ad completion status (watched fully vs skipped)</li>
    <li>Rewards earned (continue game, bonus hints)</li>
    <li>Ad unit IDs shown</li>
    <li>Frequency capping data</li>
</ul>
<p><strong>Legal Basis:</strong> Consent (Google ToS)</p>
<p><strong>Purpose:</strong> Provide optional rewards in exchange for ad views</p>
<p><strong>Provider:</strong> Google AdMob</p>
<p><strong>Control:</strong> You can refuse to watch ads (feature unavailable without viewing)</p>

<h4><span class="emoji">‚è±Ô∏è</span>Rewarded Ad Cooldown</h4>
<ul>
    <li>Last ad view timestamp stored locally</li>
    <li>Minimum 3 minutes cooldown between rewarded ads</li>
</ul>
<p><strong>Purpose:</strong> Prevent ad spam exploitation</p>
<p><strong>Control:</strong> Premium subscription removes ads entirely</p>

<h4><span class="emoji">‚è±Ô∏è</span>Interstitial Ad Frequency Control</h4>
<ul>
    <li>Last ad display timestamp (stored locally)</li>
    <li>Games played since last ad (counter)</li>
    <li>Cooldown timer (3 minutes minimum between ads)</li>
    <li>Ad display frequency (1 ad per 3 games completed)</li>
</ul>
<p><strong>Storage:</strong> Device local storage (SharedPreferences)</p>
<p><strong>Purpose:</strong> Limit ad annoyance, respect user experience</p>
<p><strong>Control:</strong> Premium subscription removes all interstitial ads</p>

<div class="box-success">
    <strong>‚úÖ User-Friendly:</strong> Ads are limited to once every 3 minutes AND after 3 completed games to avoid disrupting gameplay.
</div>
            
            <h4><span class="emoji">üèÜ</span>Google Play Games Services (Leaderboards & Achievements)</h4>
            <ul>
                <li>Public scores on leaderboards</li>
                <li>Unlocked achievement badges</li>
                <li>Public profile information</li>
            </ul>
            <p><strong>Legal Basis:</strong> Service contract | <strong>Purpose:</strong> Leaderboards, social features</p>
            
            <h4><span class="emoji">üìä</span>Private Statistics Leaderboards (GPGS)</h4>
            <p>In addition to public leaderboards, we maintain private leaderboards for internal tracking:</p>
            <ul>
                <li>Total playtime (cumulative seconds)</li>
                <li>Games played (all modes combined)</li>
                <li>Total wins (all difficulties)</li>
            </ul>
            <p><strong>Visibility:</strong> Private (only visible to you via GPGS)</p>
            <p><strong>Status:</strong> These leaderboards are coded in the app but currently disabled in the Google Play Console (for internal use only)</p>
            <p><strong>Google Play IDs:</strong></p>
            <ul>
                <li>CgkIzuudz8UbEAIQAg (playtime)</li>
                <li>CgkIzuudz8UbEAIQAw (games played)</li>
                <li>CgkIzuudz8UbEAIQBA (total wins)</li>
            </ul>
            
            <h3>3.5 Daily Challenge Data</h3>
            
            <h4><span class="emoji">üìÖ</span>Daily Puzzle Progress</h4>
            <ul>
                <li>Daily puzzle completion status (completed date stored locally)</li>
                <li>Best daily scores per challenge date</li>
                <li>Completion times (in seconds)</li>
                <li>Number of hints used per challenge (0-2)</li>
                <li>Submission timestamps</li>
            </ul>
            <p><strong>Legal Basis:</strong> Service contract | <strong>Purpose:</strong> Daily challenge leaderboards, player engagement tracking</p>
            <p><strong>Storage:</strong> PostgreSQL database (Neon) via Fly.io servers (USA)</p>
            <p><strong>Retention:</strong> Indefinite (for leaderboard integrity and historical rankings)</p>
            
            <h4><span class="emoji">üèÜ</span>Daily Leaderboards</h4>
            <ul>
                <li>Public rankings (today + all-time)</li>
                <li>Player names associated with scores</li>
                <li>Total days participated</li>
                <li>Average completion times</li>
            </ul>
            <p><strong>Visibility:</strong> All daily challenge scores are publicly visible in leaderboards</p>
            
            <div class="box-highlight">
                <strong>üì¢ Public Data Notice:</strong> When you complete a Daily Challenge, your player name, score, and completion time will be publicly visible in the global leaderboard. This data is shared with all users of the application.
            </div>
            <h4><span class="emoji">üîí</span>Duplicate Submission Prevention</h4>

<p><strong>Server-Side Validation:</strong></p>
<ul>
    <li>Before accepting a score, server checks if player already completed today's challenge</li>
    <li>SQL query: <code>SELECT COUNT(*) WHERE player_id = $1 AND challenge_date = $2</code></li>
    <li>HTTP 409 Conflict error returned if already completed</li>
    <li>Prevents score manipulation and duplicate submissions</li>
</ul>

<p><strong>Client-Side Check:</strong></p>
<ul>
    <li>GET /api/daily/check-completed - Returns boolean completion status</li>
    <li>Called on app launch to disable "Play" button if already completed</li>
    <li>Local cache updated after successful submission</li>
</ul>

<p><strong>Purpose:</strong> Ensure fair leaderboards, prevent score manipulation, maintain competitive integrity</p>
<p><strong>Legal Basis:</strong> Legitimate interest (fraud prevention - GDPR Article 6.1.f)</p>

<h4><span class="emoji">üìä</span>Anti-Cheat Validation</h4>
<ul>
    <li>Maximum score limit: 9500 points (server-side enforcement)</li>
    <li>Time validation: Must be positive integer (in seconds)</li>
    <li>Hints validation: 0-2 hints only (expert difficulty allows max 2 hints)</li>
    <li>Scores exceeding limits are rejected with HTTP 400 Bad Request</li>
    <li>Suspicious submissions flagged for review (see Section 6.1)</li>
</ul>
            
            <h3>3.6 Friends System Data</h3>
            
            <h4><span class="emoji">üë•</span>Friend Connections</h4>
            <ul>
                <li>Unique friend code (8-digit numeric format: XXXX-XXXX, e.g., 1234-5678)</li>
                <li>Friend code validation (must match format <code>^\d{4}-\d{4}$</code>)</li>
                <li>Friend list (player IDs + display names)</li>
                <li>Friend invitations sent/received (status: pending, accepted, declined)</li>
                <li>Friendship timestamps (creation date)</li>
                <li>Last synchronization time</li>
            </ul>
            <p><strong>Legal Basis:</strong> Consent + Service contract | <strong>Purpose:</strong> Social features, friend-to-friend matching</p>
            
            <h4><span class="emoji">üîê</span>Friend Code Generation</h4>
            <p>Your friend code is generated using a deterministic, non-reversible hash algorithm based on your Player ID. This means:</p>
            <ul>
                <li>The code cannot be traced back to your Player ID</li>
                <li>It remains the same across all your sessions</li>
                <li>No personally identifiable information is embedded in the code</li>
            </ul>
            
            <h4><span class="emoji">‚ö°</span>Friend Invitations</h4>
            <ul>
                <li>Sender information (Player ID, name, friend code)</li>
                <li>Recipient friend code (8-digit code)</li>
                <li>Invitation status (pending, accepted, declined)</li>
                <li>Game mode and difficulty requested (if challenge)</li>
            </ul>
            <p><strong>Retention:</strong> 60 seconds (auto-expire if not responded), then permanently deleted</p>
            <p><strong>Storage:</strong> PostgreSQL database (Neon) via Fly.io servers (USA)</p>
            
            <div class="box-success">
                <strong>‚úÖ Privacy by Design:</strong> Friend invitations automatically expire after 60 seconds and are permanently deleted from our servers. Only accepted friendships are retained.
            </div>
            
            <div class="box-highlight">
                <strong>‚ö†Ô∏è Important:</strong> Friend codes and friendships are tied to your Google Play Games account. If you delete your GPGS account, all associated friend data will be deleted within 12 months.
            </div>
            
            <h3>3.7 Challenge System Data</h3>
            
            <h4><span class="emoji">‚öîÔ∏è</span>Player-to-Player Challenges</h4>
            <ul>
                <li>Challenge sender/receiver information (Player ID, name)</li>
                <li>Game mode requested (classic, powerup, timeAttack)</li>
                <li>Difficulty level requested (easy, medium, hard, expert)</li>
                <li>Challenge acceptance/decline status</li>
                <li>Challenge timestamps (sent, responded)</li>
            </ul>
            <p><strong>Legal Basis:</strong> Service contract | <strong>Purpose:</strong> Facilitate direct player-to-player matches</p>
            <p><strong>Retention:</strong> 60 seconds maximum (auto-expire), then permanently deleted</p>
            <p><strong>Storage:</strong> Temporary in-memory storage (server RAM), no persistent database storage</p>
            
            <div class="box-highlight">
                <strong>‚è∞ Auto-Cleanup:</strong> All challenge data is automatically deleted after 60 seconds, whether accepted, declined, or ignored. No long-term storage is performed.
            </div>
            
           <h3>3.8 Authentication Tokens</h3>
            
            <h4><span class="emoji">üîë</span>JWT Authentication</h4>
            <ul>
                <li>JWT tokens (JSON Web Tokens) containing:
                    <ul>
                        <li>Player ID (encrypted)</li>
                        <li>Player Name (encrypted)</li>
                        <li>Expiration timestamp (30 days)</li>
                    </ul>
                </li>
                <li>Token generation timestamp</li>
                <li>Token stored locally (SharedPreferences - encrypted)</li>
            </ul>
            <p><strong>Legal Basis:</strong> Service contract + Security (legitimate interest)</p>
            <p><strong>Purpose:</strong> Secure API authentication for leaderboards, daily challenges, friends system</p>
            <p><strong>Expiration:</strong> 30 days (automatic renewal on reconnection)</p>
            <p><strong>Storage Location:</strong> Device local storage (encrypted) + server-side validation</p>
            <p><strong>Security:</strong> Tokens are signed using industry-standard HS256 algorithm with a 32+ character secret key</p>
            
            <div class="box-success">
                <strong>üîí Token Security:</strong> JWT tokens are encrypted and cannot be reverse-engineered to extract your Player ID or personal information. They automatically expire after 30 days for security.
            </div>
            
           <h3>3.9 Real-Time Multiplayer Data (WebSocket/Socket.IO)</h3>

<h4><span class="emoji">üåê</span>WebSocket Connection</h4>
<p>During multiplayer matches, your device establishes a real-time WebSocket connection to our game server.</p>

<table>
    <thead>
        <tr>
            <th>Data Type</th>
            <th>Details</th>
            <th>Retention</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>IP Address</td>
            <td>Used for WebSocket routing and connection management</td>
            <td>Session only</td>
        </tr>
        <tr>
            <td>Socket ID</td>
            <td>Temporary unique identifier for your WebSocket connection</td>
            <td>Until disconnect</td>
        </tr>
        <tr>
            <td>Room ID</td>
            <td>Temporary match identifier (shared with opponent)</td>
            <td>Until match ends</td>
        </tr>
        <tr>
            <td>Game Moves</td>
            <td>Row, column, value placed in real-time</td>
            <td>Match duration</td>
        </tr>
        <tr>
            <td>Player Stats</td>
            <td>Progress, combo, errors, energy (synced live)</td>
            <td>Match duration</td>
        </tr>
        <tr>
            <td>Heartbeat Signals</td>
            <td>Connection alive pings (throttled to max 1 per 3 seconds)</td>
            <td>Not stored</td>
        </tr>
        <tr>
            <td>Power-Up Events</td>
            <td>Type, duration, target player</td>
            <td>Match duration</td>
        </tr>
        <tr>
            <td>Match Start Timestamp</td>
            <td>Unix timestamp (ms) when room was created (startTime)</td>
            <td>Session only</td>
        </tr>
        <tr>
            <td>Server Timestamp</td>
            <td>Current server time (ms) for client synchronization (serverTime)</td>
            <td>Not stored</td>
        </tr>
        <tr>
            <td>Time Consumed (Time Attack)</td>
            <td>Elapsed time in seconds (calculated from personalEndTime - currentTime)</td>
            <td>Session only</td>
        </tr>
    </tbody>
</table>

<p><strong>Timestamp Synchronization:</strong></p>
<ul>
    <li><strong>startTime:</strong> Match creation timestamp (UTC) - used to calculate elapsed time</li>
    <li><strong>serverTime:</strong> Current server timestamp (UTC) - sent on matchFound to sync client clock</li>
    <li><strong>Usage:</strong> Calculate elapsedSeconds = (currentTime - startTime) / 1000</li>
    <li><strong>Time Attack:</strong> Sync personalEndTime countdown timers across devices</li>
    <li><strong>Privacy Note:</strong> Timestamps are in UTC (no timezone data sent), but difference between server and client time may indirectly reveal timezone</li>
</ul>

<p><strong>Time Attack - Time Consumed:</strong></p>
<ul>
    <li>Calculated when match ends or timer expires: <code>timeConsumed = (timeLimit - timeRemaining) / 1000</code></li>
    <li>Stored temporarily in player object (RAM) during match</li>
    <li>Sent in game_over event to both players</li>
    <li><strong>Purpose:</strong> Display actual time taken to complete puzzle (performance tracking)</li>
    <li><strong>Storage:</strong> Not persisted to database (session-only data)</li>
</ul>

<p><strong>Server:</strong> sudokupuzzle-server.fly.dev (Fly.io infrastructure, USA)</p>
<p><strong>Transport Security:</strong> WebSocket Secure (WSS) over TLS 1.3</p>
<p><strong>Legal Basis:</strong> Service contract (multiplayer functionality)</p>
<p><strong>Purpose:</strong> Enable real-time 1v1 synchronization</p>

<div class="box-highlight">
    <strong>‚ö° Session-Based:</strong> All WebSocket data is deleted immediately when the match ends or a player disconnects. No persistent storage is performed.
</div>

<div class="box-success">
    <strong>üîí Privacy:</strong> Your IP address is only used for connection routing and is never stored or shared with other players. Only your GPGS Player Name is visible to opponents.
</div>

<h4><span class="emoji">üîÑ</span>Reconnection Dialog</h4>
<p>When you reconnect after temporary disconnect (within 60 seconds), server sends:</p>
<ul>
    <li>Current grid state (your puzzle with filled cells)</li>
    <li>Initial puzzle (frozen state at match start)</li>
    <li>Solution grid (complete puzzle reference)</li>
    <li>Opponent progress (percentage completion 0-81)</li>
    <li>Your stats:
        <ul>
            <li>correctMoves (validated placements)</li>
            <li>errors (incorrect placements)</li>
            <li>combo (current streak)</li>
            <li>energy (power-up charges available)</li>
            <li>energyCombo (progress toward next energy point)</li>
            <li>currentScore (recalculated at reconnection)</li>
            <li>drainRate (Classic/PowerUp only)</li>
        </ul>
    </li>
    <li>Elapsed time since match start (in seconds): <code>elapsedSeconds = Math.floor((Date.now() - room.startTime) / 1000)</code></li>
    <li>personalEndTime (Time Attack only - your timer deadline in Unix timestamp ms)</li>
    <li>startTime (match creation timestamp - used to recalculate elapsed time client-side)</li>
</ul>

<p><strong>Score Recalculation on Reconnection:</strong></p>
<ul>
    <li><strong>Classic/PowerUp:</strong> <code>score = initialPool - (elapsedSeconds √ó drainRate) + (correctMoves √ó basePoints) - (errors √ó errorPenalty)</code></li>
    <li><strong>Time Attack:</strong> <code>score = currentScore</code> (accumulated points, no recalculation needed)</li>
    <li>Ensures fair scoring even after disconnect/reconnect</li>
</ul>

<p><strong>Data Source:</strong> All data retrieved from server RAM (rooms object), no database queries</p>
<p><strong>Retention:</strong> Sent once on reconnection, not stored client-side beyond session</p>
            
            <h3>3.10 Backend Server Infrastructure</h3>
            
            <h4><span class="emoji">üèÜ</span>Leaderboard Backend Server</h4>
            <ul>
                <li><strong>Server URL:</strong> sudokupuzzle-leaderboards.fly.dev</li>
                <li><strong>Location:</strong> Fly.io infrastructure (USA)</li>
                <li><strong>Purpose:</strong> Store and rank player scores globally</li>
                <li><strong>Data stored:</strong>
                    <ul>
                        <li>Player ID (GPGS)</li>
                        <li>Player Name (GPGS)</li>
                        <li>Total scores per category (solo/multi/daily)</li>
                        <li>Games played count</li>
                        <li>Last submission timestamp</li>
                    </ul>
                </li>
                <li><strong>Security:</strong> JWT authentication (Bearer tokens)</li>
                <li><strong>Retention:</strong> 90 days inactivity-based cleanup</li>
            </ul>
            
            <h4><span class="emoji">üíæ</span>PostgreSQL Database (Neon)</h4>
            <ul>
                <li><strong>Purpose:</strong> Persistent storage for daily challenges, friends, leaderboards</li>
                <li><strong>Location:</strong> Neon infrastructure (USA)</li>
                <li><strong>Data stored:</strong>
                    <ul>
                        <li>Daily challenge scores and completion times</li>
                        <li>Friend codes and friendships</li>
                        <li>Friend invitations (60s expiry)</li>
                        <li>Player statistics</li>
                    </ul>
                </li>
                <li><strong>Security:</strong> Encrypted at rest (AES-256)</li>
                <li><strong>Access:</strong> API requests only (no direct database access)</li>
            </ul>
            
            <h2><span class="emoji">üéØ</span>4. How We Use Your Data</h2>
            
            <h3>4.1 Primary Purposes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Purpose</th>
                        <th>Data Used</th>
                        <th>Legal Basis</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Provide game service</td>
                        <td>Game data, player profile</td>
                        <td>Contract</td>
                    </tr>
                    <tr>
                        <td>Cloud synchronization</td>
                        <td>Progression data</td>
                        <td>Contract</td>
                    </tr>
                    <tr>
                        <td>Leaderboards & Achievements</td>
                        <td>Scores, name, stats</td>
                        <td>Contract</td>
                    </tr>
                    <tr>
                        <td>Performance optimization</td>
                        <td>Technical data, crash logs</td>
                        <td>Legitimate Interest</td>
                    </tr>
                    <tr>
                        <td>Security & fraud prevention</td>
                        <td>IP, device ID, transactions</td>
                        <td>Legitimate Interest</td>
                    </tr>
                    <tr>
                        <td>Personalized ads</td>
                        <td>Advertising ID, interests</td>
                        <td>Consent (Google)</td>
                    </tr>
                    <tr>
                        <td>Technical maintenance</td>
                        <td>All relevant logs</td>
                        <td>Legitimate Interest</td>
                    </tr>
                    <tr>
                        <td>Legal compliance</td>
                        <td>Relevant data</td>
                        <td>Legal Obligation</td>
                    </tr>
                </tbody>
            </table>
            
            <h4><span class="emoji">üîÑ</span>Cloud Sync Conflict Resolution</h4>
            <p>When syncing data between device and cloud (GPGS), we use a <strong>MAX merge strategy</strong>:</p>
            <ul>
                <li>For win counters: Highest value kept (prevents data loss)</li>
                <li>For playtime: Longest time kept</li>
                <li>For settings: Most recent timestamp wins</li>
            </ul>
            <p><strong>Example:</strong> If you have 10 wins locally and 15 wins in cloud, we keep 15.</p>
            <p><strong>Rationale:</strong> This prevents accidental data loss from reinstalls or device changes.</p>
            
            <h3>4.2 Data Sharing</h3>
            <p>Your data is <strong>NEVER sold</strong> to third parties.</p>
            <table>
                <thead>
                    <tr>
                        <th>Third Party</th>
                        <th>Data Shared</th>
                        <th>Reason</th>
                        <th>Data Processing Agreement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Google Play Games</strong></td>
                        <td>Player ID, name, scores</td>
                        <td>Authentication & leaderboards</td>
                        <td>‚úÖ Yes (Google ToS)</td>
                    </tr>
                    <tr>
                        <td><strong>Google AdMob</strong></td>
                        <td>Advertising ID</td>
                        <td>Ad personalization</td>
                        <td>‚úÖ Yes (Google ToS)</td>
                    </tr>
                    <tr>
                        <td><strong>Game Server (Fly.io)</strong></td>
                        <td>Multiplayer stats</td>
                        <td>Real-time sync</td>
                        <td>‚úÖ Yes (encrypted)</td>
                    </tr>
                    <tr>
                        <td><strong>Google Play Billing</strong></td>
                        <td>Transaction data</td>
                        <td>Payment processing</td>
                        <td>‚úÖ Yes (PCI DSS)</td>
                    </tr>
                    <tr>
                        <td><strong>PostgreSQL (Neon)</strong></td>
                        <td>Scores, daily data, friends, challenges</td>
                        <td>Persistent database storage</td>
                        <td>‚úÖ Yes (encrypted at rest)</td>
                    </tr>
                    <tr>
                        <td><strong>JWT Tokens (Local)</strong></td>
                        <td>Authentication tokens (Player ID + Name)</td>
                        <td>API authentication</td>
                        <td>‚úÖ Yes (30-day expiry, HS256 signed)</td>
                    </tr>
                    <tr>
                        <td><strong>Legal Authorities</strong></td>
                        <td>Relevant data</td>
                        <td>Legal obligation upon request</td>
                        <td>N/A</td>
                    </tr>
                </tbody>
            </table>
            
            <h2><span class="emoji">‚è≥</span>5. Data Retention</h2>
            
            <h3>5.1 Game Data Retention</h3>
            <ul>
                <li><strong>Solo Progression History:</strong> Retained as long as GPGS account exists + 12 months after deletion</li>
                <li><strong>Multiplayer Scores:</strong> 90 days after last activity (inactivity-based cleanup)</li>
                <li><strong>Daily Challenge Scores:</strong> Indefinite (for leaderboard integrity)</li>
                <li><strong>Match Statistics:</strong> 2 years (classic/powerup/timeAttack match history)</li>
                <li><strong>Technical Logs:</strong> 30 days (crash reports, error logs)</li>
            </ul>
            
            <h3>5.2 Payment Data Retention</h3>
            <ul>
                <li><strong>Completed Transactions:</strong> 7 years (tax compliance requirement - France & EU)</li>
                <li><strong>Failed Transactions:</strong> 30 days (then permanently deleted)</li>
                <li><strong>Purchase History:</strong> Indefinite via Google Play Store (managed by Google)</li>
                <li><strong>Purchase Tokens:</strong> 90 days after last validation (server-side)</li>
            </ul>
            
            <h3>5.3 Profile & Preference Data</h3>
            <ul>
                <li><strong>GPGS Data:</strong> As long as your Google account exists (managed by Google)</li>
                <li><strong>Preference Settings:</strong> As long as GPGS account exists + 90 days after deletion</li>
                <li><strong>Cookies/Analytics:</strong> 2 years (automatic reset)</li>
                <li><strong>JWT Tokens:</strong> 30 days (automatic expiration)</li>
            </ul>
            
            <h3>5.4 Friends & Social Data</h3>
            <ul>
                <li><strong>Friend Codes:</strong> As long as GPGS account exists</li>
                <li><strong>Friendships:</strong> Until manually deleted by user OR 12 months after GPGS account deletion</li>
                <li><strong>Friend Invitations (Pending):</strong> 60 seconds maximum (auto-expire)</li>
                <li><strong>Friend Invitations (Declined):</strong> Immediately deleted upon decline</li>
                <li><strong>Challenge Invitations:</strong> 60 seconds maximum (auto-expire), no persistent storage</li>
            </ul>
            
            <div class="box-highlight">
                <strong>‚ö†Ô∏è Important:</strong> Friend codes and friendships are tied to your Google Play Games account. If you delete your GPGS account, all associated friend data will be deleted within 12 months.
            </div>
            
            <h2><span class="emoji">üîê</span>6. Data Security</h2>
            
        <h3>6.1 Technical Measures</h3>
<ul>
    <li><strong>Encryption in Transit:</strong> HTTPS/TLS 1.3 for all transfers</li>
    <li><strong>Encryption at Rest:</strong> Cloud data encrypted via GPGS, server data encrypted via PostgreSQL (AES-256)</li>
    <li><strong>Server Isolation:</strong> Fly.io infrastructure with network isolation</li>
    <li><strong>No Payment Storage:</strong> Payment data remains with Google (never stored locally)</li>
    <li><strong>Input Validation:</strong> Protection against SQL injection, XSS attacks</li>
    <li><strong>JWT Authentication:</strong> Secure tokens with 30-day expiration, HS256 signature algorithm</li>
    <li><strong>PostgreSQL Encryption:</strong> Data encrypted at rest via Neon infrastructure (AES-256)</li>
    <li><strong>Friend Code Hashing:</strong> Non-reversible deterministic hashing (cannot be traced back to Player ID)</li>
    <li><strong>Challenge Data Volatility:</strong> Challenges stored in RAM only (60s max), never written to disk</li>
    <li><strong>Purchase Token Validation:</strong> Tokens sent to server over HTTPS/TLS 1.3, validated once, then discarded</li>
    <li><strong>Request Timeouts:</strong> 15 seconds maximum per API request (prevents hanging)</li>
    <li><strong>Cold Start Handling:</strong> Extended timeout (12s) on server wake-up (Fly.io sleep mode)</li>
</ul>

<h4><span class="emoji">üîÑ</span>WebSocket Connection Retry Logic</h4>
<ul>
    <li><strong>Connection Timeout:</strong> 30 seconds maximum (60 attempts √ó 500ms intervals)</li>
    <li><strong>Retry Mechanism:</strong> Automatic retry every 500ms until connected or timeout</li>
    <li><strong>Reconnection Window:</strong> 60 seconds grace period after disconnect before match abandonment</li>
</ul>
<p><strong>Purpose:</strong> Handle temporary network interruptions, prevent match loss due to brief disconnects</p>

<h4><span class="emoji">üõ°Ô∏è</span>Rate Limiting</h4>

<p><strong>Protection Levels:</strong></p>
<ul>
    <li><strong>General API:</strong> 100 requests/minute per IP address</li>
    <li><strong>Score Submission:</strong> 50 requests/minute per IP address</li>
    <li><strong>Friend System:</strong> 30 requests/minute per IP address</li>
    <li><strong>Auth Endpoints:</strong> 5 requests/minute per IP address (failed attempts counted)</li>
</ul>

<p><strong>Data Collected for Rate Limiting:</strong></p>
<ul>
    <li>IP address (temporary tracking for rate limit enforcement only)</li>
    <li>Request counters per IP (rolling window)</li>
    <li>Timestamp of first request in current window</li>
</ul>

<p><strong>Implementation:</strong></p>
<ul>
    <li>Express-rate-limit middleware (server-side)</li>
    <li>Rolling window algorithm (resets every 60 seconds)</li>
    <li>HTTP 429 "Too Many Requests" response when limit exceeded</li>
</ul>

<p><strong>Retention:</strong> 60 seconds (rolling window), then automatically cleared</p>
<p><strong>Purpose:</strong> Prevent API abuse, DDoS attacks, score manipulation via spam</p>
<p><strong>Legal Basis:</strong> Legitimate interest (security - GDPR Article 6.1.f)</p>

<h4><span class="emoji">üö®</span>Anti-Cheat - Suspicious Score Flagging</h4>

<p><strong>Detection Criteria:</strong></p>
<ul>
    <li>Scores exceeding maximum thresholds:
        <ul>
            <li>Solo Easy: > 5000 points</li>
            <li>Solo Medium: > 8000 points</li>
            <li>Solo Hard: > 10000 points</li>
            <li>Solo Expert: > 15000 points</li>
            <li>Multi Classic: > 7000 points</li>
            <li>Multi PowerUp: > 12000 points</li>
            <li>Time Attack Classic: > 6000 points</li>
            <li>Time Attack PowerUp: > 10000 points</li>
        </ul>
    </li>
    <li>Negative scores (impossible under normal gameplay)</li>
    <li>Invalid difficulty/mode combinations</li>
    <li>Submission rate anomalies (via rate limiting)</li>
</ul>

<p><strong>Flagging Process:</strong></p>
<ul>
    <li>Suspicious scores are logged to PostgreSQL table: <code>suspicious_scores</code></li>
    <li>Data stored: player_id, score, game_type, difficulty, reason (validation failure message), flagged_at (timestamp)</li>
    <li>Flagged scores are rejected (HTTP 400 Bad Request) - NOT saved to leaderboards</li>
    <li>Console log generated: <code>üö® Score suspect: {playerId} - {score} pts ({reason})</code></li>
</ul>

<p><strong>Storage & Retention:</strong></p>
<ul>
    <li><strong>Database:</strong> PostgreSQL (Neon) - table: suspicious_scores</li>
    <li><strong>Retention:</strong> Indefinite (for fraud investigation and pattern analysis)</li>
    <li><strong>Access:</strong> Internal review only (not shared with third parties)</li>
</ul>

<p><strong>Your Rights:</strong></p>
<ul>
    <li>Request deletion of flagged records via email: contact.thecatsizerlab@gmail.com</li>
    <li>Appeal false positives with evidence (screenshots, gameplay videos)</li>
    <li>GDPR Right to Erasure applies (Article 17) - unless fraud investigation ongoing</li>
</ul>

<p><strong>Purpose:</strong> Detect and prevent score manipulation, maintain leaderboard integrity, protect fair play</p>
<p><strong>Legal Basis:</strong> Legitimate interest (fraud prevention - GDPR Article 6.1.f)</p>

<div class="box-warning">
    <strong>‚ö†Ô∏è Fair Play Policy:</strong> Repeatedly flagged scores may result in account review. Proven cheating may lead to leaderboard removal or account suspension.
</div>
            
            <h3>6.2 Organizational Measures</h3>
            <ul>
                <li>Access to data limited to authorized personnel only</li>
                <li>Confidentiality agreements with all service providers</li>
                <li>Regular security audits</li>
                <li>Automated dependency updates and security patches</li>
            </ul>
            
            <div class="box-warning">
                <strong>‚ö†Ô∏è Disclaimer:</strong> While we implement industry-standard security measures, no system is 100% secure. You acknowledge that Internet data transfer carries inherent risks.
            </div>
            
            <h2><span class="emoji">‚úã</span>7. Your Privacy Rights</h2>
            
            <h3>7.1 Right of Access (GDPR Article 15)</h3>
            <p>You can request access to your personal data.</p>
            <p><strong>How to Request:</strong></p>
            <ul>
                <li>Email: <a href="mailto:contact.thecatsizerlab@gmail.com">contact.thecatsizerlab@gmail.com</a></li>
                <li>Response Time: 30 days</li>
            </ul>
            <p><strong>Data Accessible Directly:</strong></p>
            <ul>
                <li>GPGS Profile: Google Play Games > Settings</li>
                <li>Purchase History: Google Play Store > Account > Payments and Subscriptions</li>
                <li>Google Privacy Settings: myaccount.google.com</li>
            </ul>
            
            <h3>7.2 Right of Correction (GDPR Article 16)</h3>
            <p>You can correct inaccurate data about yourself.</p>
            <ul>
                <li>Edit your GPGS profile directly in Google Play Games</li>
                <li>Update preferences within the Application settings</li>
            </ul>
            
            <h3 id="data-deletion">7.3 Right to Erasure (GDPR Article 17)</h3>
<p>You can request deletion of your personal data. However, certain data must be retained for the app to function properly.</p>

<h4><span class="emoji">üóëÔ∏è</span>What Can Be Deleted</h4>
<table>
    <thead>
        <tr>
            <th>Data Type</th>
            <th>Deletion Method</th>
            <th>Effect</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Google Play Games Profile</strong></td>
            <td>Delete GPGS account via Google Settings</td>
            <td>Complete account removal from GPGS (managed by Google)</td>
        </tr>
        <tr>
            <td><strong>Local Device Data</strong></td>
            <td>Uninstall app or Clear Data in Android Settings</td>
            <td>All local progress deleted</td>
        </tr>
        <tr>
            <td><strong>Specific Friendships</strong></td>
            <td>Settings > Friends > Remove Friend</td>
            <td>Individual friend removed from your list</td>
        </tr>
        <tr>
            <td><strong>JWT Tokens</strong></td>
            <td>Automatic after 30 days OR manual logout</td>
            <td>Re-authentication required</td>
        </tr>
        <tr>
            <td><strong>Temporary Game Backups</strong></td>
            <td>Automatic after 1 hour</td>
            <td>No manual action needed</td>
        </tr>
    </tbody>
</table>

<h4><span class="emoji">üîí</span>What CANNOT Be Deleted (Service Integrity)</h4>
<p>The following data is <strong>essential for the app to function</strong> and cannot be deleted while you maintain an active account:</p>

<table>
    <thead>
        <tr>
            <th>Data Type</th>
            <th>Reason for Retention</th>
            <th>Legal Basis (GDPR)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><strong>Leaderboard Scores</strong></td>
            <td>Required for competitive ranking integrity. Deleting scores would artificially boost other players' ranks.</td>
            <td>Article 17.3.b (Public Interest) + Article 6.1.b (Contract)</td>
        </tr>
        <tr>
            <td><strong>Player Profile Statistics</strong><br>(games played, win rate, etc.)</td>
            <td>Core functionality of your account. Without stats, profile features are non-functional.</td>
            <td>Article 6.1.b (Contract - necessary for service provision)</td>
        </tr>
        <tr>
            <td><strong>Friend Connections</strong></td>
            <td>Social feature foundation. Your friends list is part of your account data.</td>
            <td>Article 6.1.b (Contract) + Article 6.1.a (Consent - given when adding friends)</td>
        </tr>
        <tr>
            <td><strong>Friend Code</strong></td>
            <td>Unique identifier for friend system. Required for other players to find you.</td>
            <td>Article 6.1.b (Contract)</td>
        </tr>
        <tr>
            <td><strong>Daily Challenge History</strong></td>
            <td>Historical leaderboard integrity. Past rankings cannot be retroactively altered.</td>
            <td>Article 17.3.b (Public Interest)</td>
        </tr>
        <tr>
            <td><strong>Match History</strong></td>
            <td>Used for matchmaking balancing and anti-cheat systems.</td>
            <td>Article 6.1.f (Legitimate Interest - fraud prevention)</td>
        </tr>
        <tr>
            <td><strong>Premium Purchases</strong></td>
            <td>Legal requirement for tax records and fraud prevention.</td>
            <td>Article 17.3.b (Legal Obligation - 7 years retention, France/EU law)</td>
        </tr>
        <tr>
            <td><strong>Player Name (GPGS)</strong></td>
            <td>Managed by Google Play Games Services. We cannot delete GPGS data.</td>
            <td>Third-party service (see Google's Privacy Policy)</td>
        </tr>
    </tbody>
</table>

<div class="box-warning">
    <strong>‚ö†Ô∏è Important Understanding:</strong> Sudoku Puzzle is a <strong>competitive multiplayer game with persistent rankings</strong>. The "Right to Erasure" under GDPR has exceptions when:
    <ul style="margin-top: 10px;">
        <li>Data is necessary for contract performance (Article 6.1.b) ‚úÖ</li>
        <li>Data serves a public interest (leaderboard integrity - Article 17.3.b) ‚úÖ</li>
        <li>Data is required by law (tax records - Article 17.3.b) ‚úÖ</li>
    </ul>
    <p style="margin-top: 10px;"><strong>Your choice:</strong> Keep your account with all features OR delete your Google Play Games account (removes everything via Google).</p>
</div>

<h4><span class="emoji">üîÑ</span>How to Completely Remove Your Data</h4>
<p>If you want to completely erase your presence from the app, you must:</p>

<ol>
    <li><strong>Delete Your Google Play Games Account</strong>
        <ul>
            <li>Open Google Play Games app</li>
            <li>Tap Profile > Settings</li>
            <li>Select "Delete Play Games account & data"</li>
            <li><strong>Effect:</strong> All GPGS data deleted within 30 days (managed by Google)</li>
        </ul>
    </li>
    <li><strong>Uninstall Sudoku Puzzle</strong>
        <ul>
            <li>Long-press app icon > Uninstall</li>
            <li><strong>Effect:</strong> All local device data deleted immediately</li>
        </ul>
    </li>
    <li><strong>Request Server Data Cleanup</strong> (Optional)
        <ul>
            <li>Email <a href="mailto:contact.thecatsizerlab@gmail.com">contact.thecatsizerlab@gmail.com</a></li>
            <li>Provide proof of GPGS account deletion</li>
            <li><strong>We will delete:</strong> Orphaned server records (scores, friendships, etc.) within 90 days</li>
            <li><strong>We will retain:</strong> Purchase records (7 years - legal requirement)</li>
        </ul>
    </li>
</ol>

<div class="box-highlight">
    <strong>üìß Manual Deletion Request:</strong> If you've deleted your GPGS account and want us to expedite server cleanup, email us with:
    <ul style="margin-top: 10px;">
        <li>Your former Player ID (if known)</li>
        <li>Your former display name</li>
        <li>Screenshot of GPGS account deletion confirmation</li>
    </ul>
    <p style="margin-top: 10px;"><strong>Processing time:</strong> 30 days maximum</p>
</div>

<h4><span class="emoji">‚öñÔ∏è</span>GDPR Compliance Justification</h4>
<p>We comply with GDPR while maintaining service integrity through these legal bases:</p>

<ul>
    <li><strong>Article 6.1.b (Contract Necessity):</strong> Your game data, stats, and friends are <em>necessary to provide the service you signed up for</em>. Deleting them would render your account non-functional.</li>
    <li><strong>Article 17.3.b (Public Interest):</strong> Leaderboard integrity is a public interest for all competitive players. Retroactive score deletion would unfairly manipulate rankings.</li>
    <li><strong>Article 17.3.b (Legal Obligation):</strong> Purchase records must be retained 7 years for tax compliance (French/EU law).</li>
    <li><strong>Article 6.1.f (Legitimate Interest):</strong> Match history used for anti-cheat and matchmaking balance.</li>
</ul>

<p><strong>Conclusion:</strong> If you want to stop using the app but keep your GPGS account active, simply uninstall the app. If you want complete erasure, you must delete your Google Play Games account (which we don't control).</p>

<div class="box-success">
    <strong>‚úÖ Your Rights Protected:</strong> You can stop using the service anytime (uninstall). Complete data erasure requires closing your Google account (standard industry practice for games).
</div>
            
            <h3>7.3.1 Partial Data Deletion</h3>
            <p>You can request deletion of specific types of data without deleting everything:</p>
            
            <table>
                <thead>
                    <tr>
                        <th>Data Type</th>
                        <th>How to Delete</th>
                        <th>Impact</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Leaderboard Scores</strong></td>
                        <td>Email request with Player ID</td>
                        <td>Your scores removed from public leaderboards</td>
                    </tr>
                    <tr>
                        <td><strong>Friends List</strong></td>
                        <td>Settings > Friends > Remove individual friends</td>
                        <td>Removes specific friendships only</td>
                    </tr>
                    <tr>
                        <td><strong>Daily Challenge History</strong></td>
                        <td>Email request with Player ID</td>
                        <td>Your daily challenge scores removed from rankings</td>
                    </tr>
                    <tr>
                        <td><strong>Match History</strong></td>
                        <td>Email request with Player ID</td>
                        <td>Past game records deleted from our database</td>
                    </tr>
                    <tr>
                        <td><strong>Local Device Data</strong></td>
                        <td>App Settings > Storage > Clear Data</td>
                        <td>All local progress and settings deleted</td>
                    </tr>
                    <tr>
                        <td><strong>GPGS Cloud Saves</strong></td>
                        <td>Google Play Games > Settings > Delete saved game</td>
                        <td>Cloud backup removed (local data remains)</td>
                    </tr>
                    <tr>
                        <td><strong>Purchase History</strong></td>
                        <td>Cannot be deleted</td>
                        <td>Legal requirement (7 years retention)</td>
                    </tr>
                    <tr>
                        <td><strong>GPGS Achievements</strong></td>
                        <td>Cannot be selectively deleted</td>
                        <td>Must delete entire GPGS profile via Google</td>
                    </tr>
                </tbody>
            </table>
            
            <p><strong>To request partial deletion:</strong> Email <a href="mailto:contact.thecatsizerlab@gmail.com">contact.thecatsizerlab@gmail.com</a> with your Player ID and specify exactly which data you want deleted.</p>
            
            <h3>7.4 Right to Data Portability (GDPR Article 20)</h3>
            <p>You can request your data in a structured, portable format.</p>
            <p><strong>How:</strong> Email a request to contact.thecatsizerlab@gmail.com with proof of identity</p>
            
            <h3>7.5 Right to Object (GDPR Article 21)</h3>
            <ul>
                <li><strong>Personalized Ads:</strong> Modify your Google Ads settings</li>
                <li><strong>Analytics:</strong> Opt-out via device privacy settings</li>
                <li><strong>Marketing:</strong> Unsubscribe from marketing lists (if applicable)</li>
            </ul>
            
            <h3>7.6 Right to Restrict Processing (GDPR Article 18)</h3>
<p>You can request to restrict certain processing of your personal data in specific situations defined by applicable law. To make a request, contact us by email.</p>

            
            <h2><span class="emoji">‚öñÔ∏è</span>8. Legal Compliance</h2>
            
            <h3>8.1 GDPR (European Union)</h3>
            <p>Sudoku Puzzle complies with the General Data Protection Regulation (GDPR):</p>
            <ul>
                <li><strong>Data Controller:</strong> TheCatsizerLab</li>
                <li><strong>Legal Basis:</strong> Consent + Contract + Legitimate Interest</li>
                <li><strong>Consent Process:</strong> Modal displayed on first launch</li>
                <li><strong>Right to Withdraw:</strong> Changeable anytime in Settings > Privacy</li>
                <li><strong>Data Processing Agreement:</strong> Available upon request</li>
            </ul>
            
            <h3>8.2 CCPA (California, USA)</h3>
            <p>For California residents, you have additional rights:</p>
            <ul>
                <li><strong>Right to Know:</strong> Demand information on data collection</li>
                <li><strong>Right to Delete:</strong> Request data deletion (with exceptions)</li>
                <li><strong>Right to Opt-Out:</strong> Deny "sale" of personal information (see Section 9)</li>
                <li><strong>Right to Non-Discrimination:</strong> No penalties for exercising your rights</li>
            </ul>
            <p><strong>CCPA Request Process:</strong> Send verified request to contact.thecatsizerlab@gmail.com with:</p>
            <ul>
                <li>Proof of identity</li>
                <li>Proof of California residence</li>
                <li>Detailed description of requested data</li>
            </ul>
            <p><strong>Response Time:</strong> 45 days</p>
            
            <h3>8.3 France - Loi Informatique et Libert√©s</h3>
            <p>Sudoku Puzzle complies with French Law n¬∞78-17 of January 6, 1978:</p>
            <ul>
                <li>Data processing declarations compliant</li>
                <li>Right to object to processing</li>
                <li>Right of access to personal data</li>
                <li>DPO contact available</li>
            </ul>
            
            <h3>8.4 Other Jurisdictions</h3>
            <ul>
                <li><strong>UK:</strong> Compliant with UK GDPR</li>
                <li><strong>Switzerland:</strong> Compliant with Federal Data Protection Act (LPD)</li>
                <li><strong>Canada:</strong> Compliant with PIPEDA</li>
                <li><strong>Australia:</strong> Compliant with Privacy Act 1988</li>
            </ul>
            
           <h2><span class="emoji">üéØ</span>9. Consent & Controls</h2>

<h3>9.1 Essential Services</h3>
<p>Sudoku Puzzle relies on certain services that are necessary to operate, maintain, and improve the Application. For this reason, we do not provide in-app switches to disable essential diagnostics and basic usage measurement.</p>

<ul>
    <li><strong>Diagnostics & Stability:</strong> We use crash reporting to detect, investigate, and fix bugs and technical issues.</li>
    <li><strong>Security & Abuse Prevention:</strong> We apply technical measures to protect the Application and prevent misuse.</li>
    <li><strong>Basic Usage Measurement:</strong> We collect limited usage information (e.g., screens viewed, session duration, feature usage) to improve performance and gameplay.</li>
</ul>

<p><strong>Legal Basis:</strong> Legitimate Interest (GDPR Article 6.1.f) and/or Contract Necessity (GDPR Article 6.1.b), depending on the context and the data involved.</p>

<h3>9.2 Advertising Controls (Google)</h3>
<p>The Application displays ads using Google AdMob. Ad delivery and personalization preferences are primarily managed by Google through your device and Google account settings.</p>

<ul>
    <li>You may be able to control ad personalization via your Google account and Android privacy settings.</li>
    <li>You may reset or limit the use of your Advertising ID via Android settings.</li>
</ul>

<p><strong>Note:</strong> The availability of certain ad controls depends on your region, device, and Google settings.</p>

<h3>9.3 How to Stop Data Collection</h3>
<p>You can stop all data collection from the Application by uninstalling it. You can also clear local data via Android Settings (this removes locally stored preferences and progress saved on the device).</p>

            
            <h2><span class="emoji">üç™</span>10. Cookies & Tracking Technologies</h2>
            
           <h3>10.1 Local Storage</h3>
<p>The app uses <strong>SharedPreferences</strong> (Android local storage) to store:</p>
<ul>
    <li>User preferences (theme, language, audio settings)</li>
    <li>Session tokens (JWT authentication)</li>
    <li>Consent status (privacy preferences)</li>
    <li>Match history (last 5 matches)</li>
    <li>Achievement progress tracking</li>
    <li>Audio preferences (volume, enabled/disabled)</li>
</ul>

<p><strong>Cloud storage via Google Play Games Services for:</strong></p>
<ul>
    <li>Game progression (cloud saves, encrypted by Google)</li>
    <li>Leaderboard scores</li>
    <li>Unlocked achievements</li>
</ul>

<p>Technically these are not "cookies" but persistent local files.</p>
            
          <h3>10.2 Firebase Analytics & Crashlytics</h3>

<h4><span class="emoji">üìä</span>Firebase Analytics</h4>
<p>Google Firebase Analytics collects usage data automatically:</p>
<ul>
    <li><strong>Game events:</strong> Match start, victory, defeat, abandonment (manually logged via code)</li>
    <li><strong>App performance metrics:</strong> Session duration, screen views, app startup time</li>
    <li><strong>User properties:</strong> Device type, OS version, app version, user cohorts</li>
    <li><strong>Ad interaction events:</strong> Ad impressions, clicks, rewarded ad completions</li>
</ul>

<p><strong>Storage:</strong> Anonymized and aggregated, retained 14 months by Google</p>
<p><strong>Legal Basis:</strong> Legitimate interest (GDPR Article 6.1.f - analytics for service improvement)</p>

<h4><span class="emoji">‚ö†Ô∏è</span>Firebase Crashlytics</h4>
<p>Automatic crash reporting system (see Section 3.2 for full details):</p>
<ul>
    <li><strong>Crash reports:</strong> Fatal errors with stack traces</li>
    <li><strong>Device state:</strong> Memory, storage, battery at crash time</li>
    <li><strong>Session data:</strong> App version, crash timestamp</li>
</ul>

<p><strong>Storage:</strong> Firebase servers (Google Cloud, USA), retained 90 days</p>
<p><strong>Legal Basis:</strong> Legitimate interest (technical maintenance)</p>

<div class="box-highlight">
    <strong>üîí Privacy:</strong> Both services are managed by Google and comply with Google's Privacy Policy. Data is anonymized and cannot be traced back to individual users without explicit identifiers (which we don't send).
</div>

<p><strong>User Controls:</strong></p>
<ul>
    <li><strong>In-app controls:</strong> The Application does not provide in-app switches to disable essential diagnostics or basic usage measurement.</li>
    <li><strong>Device/Google controls:</strong> Some advertising-related settings (such as ad personalization and Advertising ID controls) may be available through your Android device settings and Google account settings.</li>
    <li><strong>Stop collection:</strong> Uninstalling the Application stops all data collection from the app.</li>
</ul>

            
            <h3>10.3 Google Advertising ID</h3>
            <p>Google assigns you a unique advertising ID for:</p>
            <ul>
                <li>Targeted ads in AdMob</li>
                <li>Ad frequency limiting</li>
                <li>Campaign performance measurement</li>
            </ul>
            <p><strong>Manage:</strong> Settings > Google > Manage Account > Privacy > Ad Settings</p>
            <p><strong>Reset:</strong> Settings > Google > Privacy > Reset Advertising ID</p>
            
            <h3>10.4 Tracking Links (UTM)</h3>
            <p>Promotional links may include UTM parameters to measure campaign effectiveness.</p>
            
            <h2><span class="emoji">üë∂</span>11. Children's Privacy (COPPA & GDPR)</h2>
            
            <h3>11.1 Age Requirements</h3>
            <ul>
                <li><strong>US (COPPA):</strong> ‚â• 13 years old</li>
                <li><strong>Europe (GDPR):</strong> ‚â• 16 years old (varies by country)</li>
                <li><strong>France:</strong> ‚â• 13 years old</li>
            </ul>
            
            <h3>11.2 Minors' Data Protection</h3>
            <p>If you are under the age of digital consent in your jurisdiction:</p>
            <ul>
                <li>Your data receives <strong>enhanced protection</strong></li>
                <li>Parent/guardian consent is required</li>
                <li>Data collection is minimized</li>
                <li>No profile-based ad targeting</li>
                <li>Data deletion upon reaching majority (on request)</li>
            </ul>
            
            <h3>11.3 Parental Controls</h3>
            <p>Parents/guardians can:</p>
            <ol>
                <li><strong>Restrict IAP:</strong> Google Play > Parental Controls > Require Authentication</li>
                <li><strong>Limit Ads:</strong> Disable personalized advertising</li>
                <li><strong>View History:</strong> Google Play Family Library</li>
                <li><strong>Delete Account:</strong> Request via email with proof</li>
            </ol>
            
            <h3>11.4 Report Inappropriate Content</h3>
            <p>If you find content unsuitable for children: contact.thecatsizerlab@gmail.com with screenshot</p>
            
            <h2><span class="emoji">üåç</span>12. International Data Transfers</h2>
            
            <h3>12.1 Server Locations</h3>
            <ul>
                <li><strong>Europe:</strong> Google Cloud (Frankfurt/Ireland)</li>
                <li><strong>Outside EU:</strong> Data shared with Google (USA-based)</li>
                <li><strong>Fly.io:</strong> Decentralized CDN infrastructure (USA)</li>
            </ul>
            
            <h3>12.2 Legal Safeguards</h3>
            <p>For transfers outside EU to USA, we rely on:</p>
            <ul>
                <li><strong>Standard Contractual Clauses (SCCs):</strong> EU-USA model</li>
                <li><strong>Google Data Processing Terms:</strong> SCC-compliant</li>
                <li><strong>Adequacy Decisions:</strong> Switzerland/UK/Canada recognized</li>
            </ul>
            
            <h3>12.3 Your Control</h3>
            <p>You can request:</p>
            <ul>
                <li>Copy of contractual safeguards</li>
                <li>Information on specific transfers</li>
                <li>Limitation of transfers (may impact service)</li>
            </ul>
            
            <h2><span class="emoji">üìù</span>13. Policy Changes</h2>
            
            <h3>13.1 Right to Modify</h3>
            <p>We may update this policy for:</p>
            <ul>
                <li>Legal compliance changes</li>
                <li>Error corrections</li>
                <li>Practice changes</li>
                <li>Clarifications</li>
            </ul>
            
            <h3>13.2 Notification</h3>
            <ul>
                <li><strong>Major Changes:</strong> In-app notification 30 days before</li>
                <li><strong>Minor Changes:</strong> Published on this page with date</li>
                <li><strong>Acceptance:</strong> New consent required for major changes</li>
            </ul>
            
            <h3>13.3 Version History</h3>
<table>
    <thead>
        <tr>
            <th>Version</th>
            <th>Date</th>
            <th>Changes</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1.0</td>
            <td>December 19, 2025</td>
            <td>Initial publication</td>
        </tr>
        <tr>
            <td>1.1</td>
            <td>December 20, 2025</td>
            <td>Added: Daily Challenge system, Friends system, Challenge system, JWT tokens, PostgreSQL database, Purchase validation details</td>
        </tr>
        <tr>
            <td>1.2</td>
            <td>December 27, 2025</td>
            <td>Added: Socket.IO real-time data, backend infrastructure details, rewarded/interstitial ad timing, audio preferences, achievement tracking, cloud sync conflict resolution, retry logic, private leaderboards, friend code validation, purchase restoration process</td>
        </tr>
        <tr>
            <td>1.3</td>
            <td>January 10, 2026</td>
            <td>Clarified: Local storage (SharedPreferences), encryption wording, and data processing descriptions for consistency</td>
        </tr>
    </tbody>
</table>

            
            <h2><span class="emoji">üìû</span>14. Contact & Complaints</h2>
            
            <h3>14.1 Questions or Issues</h3>
            <div class="contact-box">
                <p><strong>Email:</strong> <a href="mailto:contact.thecatsizerlab@gmail.com">contact.thecatsizerlab@gmail.com</a></p>
                <p><strong>Response Time:</strong> 7 business days</p>
                <p><strong>Required Information:</strong></p>
                <ul style="margin-top: 10px;">
                    <li>Subject (data access, concern, rights exercise)</li>
                    <li>Detailed description</li>
                    <li>Supporting documents if applicable</li>
                </ul>
            </div>
            
            <h3>14.2 File a Complaint with Authorities</h3>
            <p>If you believe we violate your rights, you can lodge complaints with:</p>
            <ul>
                <li><strong>CNIL (France):</strong> <a href="https://www.cnil.fr" target="_blank">www.cnil.fr</a></li>
                <li><strong>Your Country's DPA:</strong> Contact your local data protection authority</li>
                <li><strong>CCPA (California):</strong> California Attorney General</li>
                <li><strong>OAIC (Australia):</strong> <a href="https://www.oaic.gov.au" target="_blank">www.oaic.gov.au</a></li>
            </ul>
            
            <h3>14.3 Complaint Procedure</h3>
            <p><strong>Before escalating to authorities:</strong></p>
            <ol>
                <li>Contact us directly (see 14.1)</li>
                <li>Allow 30 days for resolution</li>
                <li>Provide evidence of resolution attempts</li>
            </ol>
            
            <h2><span class="emoji">‚ÑπÔ∏è</span>15. Additional Information</h2>
            
            <h3>15.1 Sensitive Data</h3>
            <p>We <strong>NEVER</strong> collect:</p>
            <ul>
                <li>‚ùå Biometric data</li>
                <li>‚ùå Health data</li>
                <li>‚ùå Genetic data</li>
                <li>‚ùå Religious/political beliefs</li>
                <li>‚ùå Sexual orientation data</li>
                <li>‚ùå National ID numbers</li>
            </ul>
            
            <h3>15.2 Profiling & Automated Decisions</h3>
            <ul>
                <li><strong>Multiplayer Matching:</strong> Algorithm by level/rank (no profiling)</li>
                <li><strong>Theme Recommendations:</strong> Usage statistics only</li>
                <li><strong>Ads:</strong> Google targeting (you control)</li>
                <li><strong>No automated decisions</strong> affecting your rights</li>
            </ul>
            
            <h3>15.3 External Links</h3>
            <p>This policy does NOT cover:</p>
            <ul>
                <li>Google Play Store</li>
                <li>Google Services (Gmail, YouTube, etc.)</li>
                <li>External websites</li>
            </ul>
            <p>Please review their privacy policies separately.</p>
            
            <h2><span class="emoji">‚ö°</span>16. Final Provisions</h2>
            
            <h3>16.1 Complete Agreement</h3>
            <p>This policy is the complete agreement between you and TheCatsizerLab regarding personal data processing. It supersedes all previous versions.</p>
            
            <h3>16.2 Severability</h3>
            <p>If any provision is invalid, remaining clauses remain enforceable.</p>
            
            <h3>16.3 No Waiver</h3>
            <p>Non-exercise of a right does not constitute waiver of that right.</p>
            
            <h3>16.4 Governing Law</h3>
            <ul>
                <li><strong>Jurisdiction:</strong> Zigliara, South Corsica, France</li>
                <li><strong>Governing Law:</strong> French Law + GDPR</li>
                <li><strong>Competent Courts:</strong> District Courts of Ajaccio, Corsica</li>
            </ul>
            
            <h3>16.5 Prescription Period</h3>
            <p>GDPR rights must be exercised within 3 years of becoming aware of the violation.</p>
            
            <h2><span class="emoji">üìö</span>17. Glossary</h2>
            
            <div style="margin: 30px 0;">
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">GDPR</strong><br>
                    General Data Protection Regulation (European Union data protection law)
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">CCPA</strong><br>
                    California Consumer Privacy Act (US state law)
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">COPPA</strong><br>
                    Children's Online Privacy Protection Act (US federal law)
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">DPO</strong><br>
                    Data Protection Officer
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">SCC</strong><br>
                    Standard Contractual Clauses (for international data transfers)
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">IAP</strong><br>
                    In-App Purchase
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">GPGS</strong><br>
                    Google Play Games Services
                </div>
               <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
    <strong style="color: #667eea;">SharedPreferences</strong><br>
    Android local key-value storage system for app preferences
</div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">Fly.io</strong><br>
                    Backend hosting platform with global CDN
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">Socket.IO</strong><br>
                    Real-time WebSocket library for multiplayer synchronization
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">JWT</strong><br>
                    JSON Web Token - Secure authentication token format
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">PostgreSQL (Neon)</strong><br>
                    Serverless PostgreSQL database provider
                </div>
                <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 6px;">
                    <strong style="color: #667eea;">Consent</strong><br>
                    Explicit user agreement to data processing
                </div>
            </div>
            
            <h2 style="margin-top: 50px;"><span class="emoji">‚ù§Ô∏è</span>Thank You</h2>
            <p>Thank you for taking the time to read our privacy policy. Your trust is important to us.</p>
            
            <div class="box-success" style="margin-top: 40px;">
                <strong>‚úÖ PRIVACY POLICY COMPLETE</strong>
                <p style="margin-top: 15px;">This document contains the complete Privacy Policy for Sudoku Puzzle by TheCatsizerLab.</p>
                <p style="margin-top: 10px;"><strong>Total Sections:</strong> 17 complete sections covering all data collection, processing, security, and user rights.</p>
                <p style="margin-top: 10px;"><strong>Last Updated:</strong> January 10, 2026 (Version 1.3)</p>
            </div>
        </main>
        
        <footer>
            <p><strong>Sudoku Puzzle - Privacy Policy</strong></p>
            <p>Version 1.3 - Last Updated: January 10, 2026</p>
            <p>For inquiries: <a href="mailto:contact.thecatsizerlab@gmail.com">contact.thecatsizerlab@gmail.com</a></p>
            <p>¬© 2026 TheCatsizerLab. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>
